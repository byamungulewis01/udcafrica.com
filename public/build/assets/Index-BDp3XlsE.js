import{r as b,l as j,c as w,o as c,a as t,u as e,m as B,w as s,b as i,d as n,P as C,e as k,f as D,F as S,g as M,t as d,n as T,k as F,C as L,W as U}from"./app-DIopXqKP.js";import{_ as W}from"./AuthenticatedLayout-Bg6rZ6FY.js";import{_ as q,a as E}from"./CardContent-DJz9bwNW.js";import{_ as g}from"./index-1cTPcDLn.js";import{_ as O,a as Q,b as x,c as _,d as G,e as f,T as H}from"./TableHeader-BoxMRrPo.js";import{_ as J,a as K,b as R}from"./CardTitle-CgrbpjEC.js";import{_ as X}from"./CardDescription-BC_0I2Ru.js";import{_ as Y}from"./CardFooter-CbRrMDCE.js";import{_ as I}from"./index-B5-et6CH.js";import{P as Z}from"./plus-BTgC6fDQ.js";import{S as ee}from"./search-Cb0GD7o4.js";import{A as te,a as se}from"./arrow-up-BfOOe-V7.js";import{I as ae}from"./image-tl7kgfGZ.js";import{S as le}from"./square-pen-CtRkotkQ.js";import"./utils-BRMhMjhB.js";import"./useForwardExpose-DtZd-g3N.js";import"./ApplicationLogo-r-dTDcsW.js";import"./chevron-down-CVJEV9BC.js";import"./createLucideIcon-Bj9Qh6Ch.js";import"./user-hELxsGH2.js";import"./mail-DtIXIIvu.js";import"./x-Dt5pVk4c.js";import"./chevron-right-Df6hnXNd.js";const oe={class:"flex justify-between items-center"},re={class:"relative mb-6"},ie={class:"rounded-md border"},ne={class:"flex items-center gap-2"},ue={class:"flex flex-col"},de={class:"w-16 h-16 rounded-md overflow-hidden"},fe=["src","alt"],me={key:1,class:"w-full h-full bg-gray-100 flex items-center justify-center"},ce={class:"font-medium"},_e={class:"text-sm text-gray-500"},pe={class:"text-sm text-gray-500 line-clamp-2"},ge={class:"flex justify-end gap-2"},ve={class:"text-sm text-gray-500"},We={__name:"Index",props:{categories:Array},setup(A){const p=A,v=b(""),u=b([]),N=()=>{v.value?u.value=p.categories.filter(o=>o.name.toLowerCase().includes(v.value.toLowerCase())):u.value=p.categories};j(()=>{u.value=p.categories});const V=o=>{confirm("Are you sure you want to delete this category?")&&L().delete(route("categories.destroy",o),{preserveScroll:!0,onSuccess:()=>{U.visit(route("categories.index"),{only:["categories"]})}})},$=async(o,a)=>{if(a==="up"&&o===0||a==="down"&&o===u.value.length-1)return;const l=a==="up"?o-1:o+1,r=[...u.value],m=r[o],h=r[l],z=m.order;m.order=h.order,h.order=z,r[o]=h,r[l]=m,u.value=r;try{await F.post(route("categories.reorder"),{items:r.map((y,P)=>({id:y.id,order:P}))})}catch(y){console.error("Failed to update order:",y),u.value=p.categories}};return(o,a)=>(c(),w(S,null,[t(e(B),{title:"Category Management"}),t(W,null,{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(K),{class:"pb-3"},{default:s(()=>[i("div",oe,[i("div",null,[t(e(R),{class:"text-2xl"},{default:s(()=>a[1]||(a[1]=[n("Category Management")])),_:1}),t(e(X),null,{default:s(()=>a[2]||(a[2]=[n("Manage your blog categories")])),_:1})]),t(e(C),{href:o.route("categories.create")},{default:s(()=>[t(e(g),{variant:"default",class:"flex items-center gap-2"},{default:s(()=>[t(e(Z),{class:"w-4 h-4"}),a[3]||(a[3]=n(" New Category "))]),_:1})]),_:1},8,["href"])])]),_:1}),t(e(q),null,{default:s(()=>[i("div",re,[t(e(ee),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t(e(E),{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=l=>v.value=l),onInput:N,placeholder:"Search categories...",class:"pl-10"},null,8,["modelValue"])]),i("div",ie,[t(e(O),null,{default:s(()=>[t(e(Q),null,{default:s(()=>[t(e(x),null,{default:s(()=>[t(e(_),{class:"w-4"},{default:s(()=>a[4]||(a[4]=[n("#")])),_:1}),t(e(_),null,{default:s(()=>a[5]||(a[5]=[n("Image")])),_:1}),t(e(_),null,{default:s(()=>a[6]||(a[6]=[n("Name")])),_:1}),t(e(_),null,{default:s(()=>a[7]||(a[7]=[n("Description")])),_:1}),t(e(_),null,{default:s(()=>a[8]||(a[8]=[n("Status")])),_:1}),t(e(_),{class:"text-right"},{default:s(()=>a[9]||(a[9]=[n("Actions")])),_:1})]),_:1})]),_:1}),t(e(G),null,{default:s(()=>[(c(!0),w(S,null,M(u.value,(l,r)=>(c(),k(e(x),{key:l.id},{default:s(()=>[t(e(f),null,{default:s(()=>[i("div",ne,[t(e(I),{variant:"outline"},{default:s(()=>[n(d(r+1),1)]),_:2},1024),i("div",ue,[t(e(g),{variant:"ghost",size:"icon",class:"h-6 w-6",disabled:r===0,onClick:m=>$(r,"up")},{default:s(()=>[t(e(te),{class:"h-4 w-4"})]),_:2},1032,["disabled","onClick"]),t(e(g),{variant:"ghost",size:"icon",class:"h-6 w-6",disabled:r===u.value.length-1,onClick:m=>$(r,"down")},{default:s(()=>[t(e(se),{class:"h-4 w-4"})]),_:2},1032,["disabled","onClick"])])])]),_:2},1024),t(e(f),null,{default:s(()=>[i("div",de,[l.image?(c(),w("img",{key:0,src:l.image,alt:l.name,class:"w-full h-full object-cover"},null,8,fe)):(c(),w("div",me,[t(e(ae),{class:"w-8 h-8 text-gray-400"})]))])]),_:2},1024),t(e(f),null,{default:s(()=>[i("div",ce,d(l.name),1),i("div",_e,d(l.slug),1)]),_:2},1024),t(e(f),null,{default:s(()=>[i("div",pe,d(l.description),1)]),_:2},1024),t(e(f),null,{default:s(()=>[t(e(I),{class:T(l.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},{default:s(()=>[n(d(l.is_active?"Active":"Inactive"),1)]),_:2},1032,["class"])]),_:2},1024),t(e(f),{class:"text-right"},{default:s(()=>[i("div",ge,[t(e(C),{href:o.route("categories.edit",l.id)},{default:s(()=>[t(e(g),{variant:"outline",size:"icon",class:"h-8 w-8"},{default:s(()=>[t(e(le),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),t(e(g),{variant:"outline",size:"icon",class:"h-8 w-8 text-red-500",onClick:m=>V(l.id)},{default:s(()=>[t(e(H),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),u.value.length===0?(c(),k(e(x),{key:0},{default:s(()=>[t(e(f),{colspan:"6",class:"text-center py-8 text-gray-500"},{default:s(()=>a[10]||(a[10]=[n(" No categories found. Try a different search or create a new category. ")])),_:1})]),_:1})):D("",!0)]),_:1})]),_:1})])]),_:1}),t(e(Y),null,{default:s(()=>[i("div",ve," Showing "+d(u.value.length)+" out of "+d(p.categories.length)+" categories ",1)]),_:1})]),_:1})]),_:1})],64))}};export{We as default};
