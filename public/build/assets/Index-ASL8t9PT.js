import{r as x,l as V,c as p,o as u,a as t,u as e,m as P,w as s,b as o,d as r,P as b,e as g,f as h,F as $,g as I,t as i,n as L,C as T,W as j}from"./app-nNBYLr-5.js";import{_ as A}from"./AuthenticatedLayout-5yu3RqQY.js";import{_ as B,a as M}from"./CardContent-C8vt69xU.js";import{_ as w}from"./index-DZZpIe-C.js";import{_ as z,a as D,b as v,c as m,d as F,e as d,T as W}from"./TableHeader-CqXVd9DM.js";import{_ as q,a as E,b as Q}from"./CardTitle-BYG57Sbt.js";import{_ as U}from"./CardDescription-CkWBP6HS.js";import{_ as G}from"./CardFooter-BAaNU-t6.js";import{_ as y}from"./index-CX1Gnbw_.js";import{P as H}from"./plus-uYWzbCtP.js";import{S as J}from"./search-BiiJ3Ko5.js";import{I as K}from"./image-BESmMAbz.js";import{S as O}from"./square-pen-BmvAYldj.js";import"./utils-BRMhMjhB.js";import"./useForwardExpose-DdkSa0h8.js";import"./ApplicationLogo-DaQt2B25.js";import"./chevron-down-CCv5gB4u.js";import"./createLucideIcon-D_mscxk-.js";import"./user-C0EE8Q8p.js";import"./mail-D9_8ZIGk.js";import"./x-YPk4ZKWS.js";import"./chevron-right-Cws5BfxY.js";const R={class:"flex justify-between items-center"},X={class:"relative mb-6"},Y={class:"rounded-md border"},Z={class:"flex items-center gap-2"},ee={class:"w-16 h-16 rounded-md overflow-hidden"},te=["src","alt"],se={key:1,class:"w-full h-full bg-gray-100 flex items-center justify-center"},le={class:"font-medium"},ae={class:"text-sm text-gray-500"},re={class:"flex justify-end gap-2"},oe={class:"text-sm text-gray-500"},Ie={__name:"Index",props:{news:Array},setup(N){const c=N,_=x(""),f=x([]),k=()=>{_.value?f.value=c.news.filter(n=>{var l;return n.title.toLowerCase().includes(_.value.toLowerCase())||((l=n.source_name)==null?void 0:l.toLowerCase().includes(_.value.toLowerCase()))}):f.value=c.news};V(()=>{f.value=c.news});const C=n=>{confirm("Are you sure you want to delete this news?")&&T().delete(route("news.destroy",n),{preserveScroll:!0,onSuccess:()=>{j.visit(route("news.index"),{only:["news"]})}})};return(n,l)=>(u(),p($,null,[t(e(P),{title:"News Management"}),t(A,null,{default:s(()=>[t(e(q),null,{default:s(()=>[t(e(E),{class:"pb-3"},{default:s(()=>[o("div",R,[o("div",null,[t(e(Q),{class:"text-2xl"},{default:s(()=>l[1]||(l[1]=[r("News Management")])),_:1}),t(e(U),null,{default:s(()=>l[2]||(l[2]=[r("Manage your news")])),_:1})]),t(e(b),{href:n.route("news.create")},{default:s(()=>[t(e(w),{variant:"default",class:"flex items-center gap-2"},{default:s(()=>[t(e(H),{class:"w-4 h-4"}),l[3]||(l[3]=r(" New News "))]),_:1})]),_:1},8,["href"])])]),_:1}),t(e(B),null,{default:s(()=>[o("div",X,[t(e(J),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t(e(M),{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=a=>_.value=a),onInput:k,placeholder:"Search by title or source name...",class:"pl-10"},null,8,["modelValue"])]),o("div",Y,[t(e(z),null,{default:s(()=>[t(e(D),null,{default:s(()=>[t(e(v),null,{default:s(()=>[t(e(m),{class:"w-4"},{default:s(()=>l[4]||(l[4]=[r("#")])),_:1}),t(e(m),null,{default:s(()=>l[5]||(l[5]=[r("Image")])),_:1}),t(e(m),null,{default:s(()=>l[6]||(l[6]=[r("Title")])),_:1}),t(e(m),null,{default:s(()=>l[7]||(l[7]=[r("Author")])),_:1}),t(e(m),null,{default:s(()=>l[8]||(l[8]=[r("Status")])),_:1}),t(e(m),{class:"text-right"},{default:s(()=>l[9]||(l[9]=[r("Actions")])),_:1})]),_:1})]),_:1}),t(e(F),null,{default:s(()=>[(u(!0),p($,null,I(f.value,(a,S)=>(u(),g(e(v),{key:a.id},{default:s(()=>[t(e(d),null,{default:s(()=>[o("div",Z,[t(e(y),{variant:"outline"},{default:s(()=>[r(i(S+1),1)]),_:2},1024)])]),_:2},1024),t(e(d),null,{default:s(()=>[o("div",ee,[a.featured_image?(u(),p("img",{key:0,src:a.featured_image,alt:a.title,class:"w-full h-full object-cover"},null,8,te)):(u(),p("div",se,[t(e(K),{class:"w-8 h-8 text-gray-400"})]))])]),_:2},1024),t(e(d),null,{default:s(()=>[o("div",le,i(a.title),1),o("div",ae,i(a.source_name),1)]),_:2},1024),t(e(d),null,{default:s(()=>[r(i(a.created_by.name),1)]),_:2},1024),t(e(d),null,{default:s(()=>[t(e(y),{class:L(a.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")},{default:s(()=>[r(i(a.is_published?"Published":"Draft"),1)]),_:2},1032,["class"]),a.is_featured?(u(),g(e(y),{key:0,class:"ml-1 bg-blue-100 text-blue-800"},{default:s(()=>l[10]||(l[10]=[r(" Featured ")])),_:1})):h("",!0)]),_:2},1024),t(e(d),{class:"text-right"},{default:s(()=>[o("div",re,[t(e(b),{href:n.route("news.edit",a.id)},{default:s(()=>[t(e(w),{variant:"outline",size:"icon",class:"h-8 w-8"},{default:s(()=>[t(e(O),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),t(e(w),{variant:"outline",size:"icon",class:"h-8 w-8 text-red-500",onClick:ne=>C(a.id)},{default:s(()=>[t(e(W),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),f.value.length===0?(u(),g(e(v),{key:0},{default:s(()=>[t(e(d),{colspan:"8",class:"text-center py-8 text-gray-500"},{default:s(()=>l[11]||(l[11]=[r(" No news found. Try a different search or create a new news. ")])),_:1})]),_:1})):h("",!0)]),_:1})]),_:1})])]),_:1}),t(e(G),null,{default:s(()=>[o("div",oe," Showing "+i(f.value.length)+" out of "+i(c.news.length)+" news ",1)]),_:1})]),_:1})]),_:1})],64))}};export{Ie as default};
