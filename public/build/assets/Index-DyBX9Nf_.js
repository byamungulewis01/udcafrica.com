import{r as C,l as L,c as h,o as d,a as t,u as e,m as T,w as s,b as i,d as o,P as j,e as g,f as P,F as S,g as B,t as f,n as D,k as F,C as M,W as U}from"./app-uM_rHAvc.js";import{_ as W}from"./AuthenticatedLayout-4Unk83T4.js";import{_ as q,a as E}from"./CardContent-sMhFDFcr.js";import{_ as w}from"./index-C6ySpNWJ.js";import{_ as O,a as Q,b as $,c as _,d as G,e as m,T as H}from"./TableHeader-6AUNhNi4.js";import{_ as J,a as K,b as R}from"./CardTitle-DP8e2O8m.js";import{_ as X}from"./CardDescription-fxrZKyfU.js";import{_ as Y}from"./CardFooter-ChOZKUw0.js";import{_ as y}from"./index-BNTsheVP.js";import{P as Z}from"./plus-BKMZFZJZ.js";import{S as ee}from"./search-BfEyXUPv.js";import{A as te,a as se}from"./arrow-up-DrbDUSyr.js";import{I as le}from"./image-LTS2qCK7.js";import{S as ae}from"./square-pen-CsOFyQZU.js";import"./utils-BRMhMjhB.js";import"./useForwardExpose-CYX1cZsp.js";import"./ApplicationLogo-5JciY6nB.js";import"./chevron-down--cLUaYuV.js";import"./createLucideIcon-BYSKgxqz.js";import"./mail-D0RyIu2f.js";import"./x-DI3WD2Gh.js";import"./chevron-right-CGYf89Y6.js";const oe={class:"flex justify-between items-center"},re={class:"flex space-x-4"},ne={class:"relative mb-6"},ie={class:"rounded-md border"},ue={class:"flex items-center gap-2"},de={class:"flex flex-col"},fe={class:"w-16 h-16 rounded-md overflow-hidden"},me=["src","alt"],ce={key:1,class:"w-full h-full bg-gray-100 flex items-center justify-center"},_e={class:"font-medium"},pe={class:"text-sm text-gray-500"},ve={class:"flex justify-end gap-2"},ge={class:"text-sm text-gray-500"},Ue={__name:"Index",props:{projects:Array},setup(I){const p=I,v=C(""),u=C([]),V=()=>{v.value?u.value=p.projects.filter(r=>{var l;return r.title.toLowerCase().includes(v.value.toLowerCase())||((l=r.client)==null?void 0:l.toLowerCase().includes(v.value.toLowerCase()))}):u.value=p.projects};L(()=>{u.value=p.projects});const z=r=>{confirm("Are you sure you want to delete this project?")&&M().delete(route("projects.destroy",r),{preserveScroll:!0,onSuccess:()=>{U.visit(route("projects.index"),{only:["projects"]})}})},k=async(r,l)=>{if(l==="up"&&r===0||l==="down"&&r===u.value.length-1)return;const a=l==="up"?r-1:r+1,n=[...u.value],c=n[r],b=n[a],A=c.order;c.order=b.order,b.order=A,n[r]=b,n[a]=c,u.value=n;try{await F.post(route("projects.reorder"),{items:n.map((x,N)=>({id:x.id,order:N}))})}catch(x){console.error("Failed to update order:",x),u.value=p.projects}};return(r,l)=>(d(),h(S,null,[t(e(T),{title:"Project Management"}),t(W,null,{default:s(()=>[t(e(J),null,{default:s(()=>[t(e(K),{class:"pb-3"},{default:s(()=>[i("div",oe,[i("div",null,[t(e(R),{class:"text-2xl"},{default:s(()=>l[1]||(l[1]=[o("Project Management")])),_:1}),t(e(X),null,{default:s(()=>l[2]||(l[2]=[o("Manage your projects")])),_:1})]),i("div",re,[t(e(j),{href:r.route("projects.create")},{default:s(()=>[t(e(w),{variant:"default",class:"flex items-center gap-2"},{default:s(()=>[t(e(Z),{class:"w-4 h-4"}),l[3]||(l[3]=o(" New Project "))]),_:1})]),_:1},8,["href"])])])]),_:1}),t(e(q),null,{default:s(()=>[i("div",ne,[t(e(ee),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t(e(E),{modelValue:v.value,"onUpdate:modelValue":l[0]||(l[0]=a=>v.value=a),onInput:V,placeholder:"Search by title or client...",class:"pl-10"},null,8,["modelValue"])]),i("div",ie,[t(e(O),null,{default:s(()=>[t(e(Q),null,{default:s(()=>[t(e($),null,{default:s(()=>[t(e(_),{class:"w-4"},{default:s(()=>l[4]||(l[4]=[o("#")])),_:1}),t(e(_),null,{default:s(()=>l[5]||(l[5]=[o("Image")])),_:1}),t(e(_),null,{default:s(()=>l[6]||(l[6]=[o("Title")])),_:1}),t(e(_),null,{default:s(()=>l[7]||(l[7]=[o("Category")])),_:1}),t(e(_),null,{default:s(()=>l[8]||(l[8]=[o("Status")])),_:1}),t(e(_),{class:"text-right"},{default:s(()=>l[9]||(l[9]=[o("Actions")])),_:1})]),_:1})]),_:1}),t(e(G),null,{default:s(()=>[(d(!0),h(S,null,B(u.value,(a,n)=>(d(),g(e($),{key:a.id},{default:s(()=>[t(e(m),null,{default:s(()=>[i("div",ue,[t(e(y),{variant:"outline"},{default:s(()=>[o(f(n+1),1)]),_:2},1024),i("div",de,[t(e(w),{variant:"ghost",size:"icon",class:"h-6 w-6",disabled:n===0,onClick:c=>k(n,"up")},{default:s(()=>[t(e(te),{class:"h-4 w-4"})]),_:2},1032,["disabled","onClick"]),t(e(w),{variant:"ghost",size:"icon",class:"h-6 w-6",disabled:n===u.value.length-1,onClick:c=>k(n,"down")},{default:s(()=>[t(e(se),{class:"h-4 w-4"})]),_:2},1032,["disabled","onClick"])])])]),_:2},1024),t(e(m),null,{default:s(()=>[i("div",fe,[a.featured_image?(d(),h("img",{key:0,src:a.featured_image,alt:a.title,class:"w-full h-full object-cover"},null,8,me)):(d(),h("div",ce,[t(e(le),{class:"w-8 h-8 text-gray-400"})]))])]),_:2},1024),t(e(m),null,{default:s(()=>[i("div",_e,f(a.title),1),i("div",pe,f(a.client),1)]),_:2},1024),t(e(m),null,{default:s(()=>[a.category?(d(),g(e(y),{key:0,variant:"outline"},{default:s(()=>[o(f(a.category.name),1)]),_:2},1024)):(d(),g(e(y),{key:1,variant:"outline",class:"text-gray-500"},{default:s(()=>l[10]||(l[10]=[o(" Uncategorized ")])),_:1}))]),_:2},1024),t(e(m),null,{default:s(()=>[t(e(y),{class:D(a.is_published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")},{default:s(()=>[o(f(a.is_published?"Published":"Draft"),1)]),_:2},1032,["class"]),a.is_featured?(d(),g(e(y),{key:0,class:"ml-1 bg-blue-100 text-blue-800"},{default:s(()=>l[11]||(l[11]=[o(" Featured ")])),_:1})):P("",!0)]),_:2},1024),t(e(m),{class:"text-right"},{default:s(()=>[i("div",ve,[t(e(j),{href:r.route("projects.edit",a.id)},{default:s(()=>[t(e(w),{variant:"outline",size:"icon",class:"h-8 w-8"},{default:s(()=>[t(e(ae),{class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),t(e(w),{variant:"outline",size:"icon",class:"h-8 w-8 text-red-500",onClick:c=>z(a.id)},{default:s(()=>[t(e(H),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),u.value.length===0?(d(),g(e($),{key:0},{default:s(()=>[t(e(m),{colspan:"6",class:"text-center py-8 text-gray-500"},{default:s(()=>l[12]||(l[12]=[o(" No projects found. Try a different search or create a new project. ")])),_:1})]),_:1})):P("",!0)]),_:1})]),_:1})])]),_:1}),t(e(Y),null,{default:s(()=>[i("div",ge," Showing "+f(u.value.length)+" out of "+f(p.projects.length)+" projects ",1)]),_:1})]),_:1})]),_:1})],64))}};export{Ue as default};
