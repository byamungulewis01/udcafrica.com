import{_ as g}from"./index-C6ySpNWJ.js";import{I as j}from"./image-LTS2qCK7.js";import{U as z}from"./ImageUpload-DFF99AFR.js";import{X as A}from"./x-DI3WD2Gh.js";import{P as N}from"./plus-BKMZFZJZ.js";import{r as u,c as p,o as v,b as t,f as B,a as i,u as n,d as f,w as y,n as S,t as b,F as U,g as T}from"./app-uM_rHAvc.js";const V={class:"w-full space-y-4"},E={class:"text-center"},L={class:"flex flex-col items-center justify-center gap-2"},M={class:"rounded-full bg-gray-100 p-3"},q={key:0,class:"space-y-4"},J={class:"flex items-center justify-between"},R={class:"text-sm font-medium text-gray-700"},W={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},O=["src","alt"],X={class:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center"},H={class:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded"},K={class:"text-center"},le={__name:"GalleryUpload",emits:["upload"],setup(Q,{emit:_}){const m=_,l=u(null),r=u([]),d=u([]),c=u(!1),w=s=>{const e=Array.from(s.target.files);e.length>0&&h(e)},k=s=>{s.preventDefault(),c.value=!1;const e=Array.from(s.dataTransfer.files);e.length>0&&h(e)},h=s=>{const e=[],o=[];s.forEach(a=>{if(!["image/jpeg","image/png","image/gif","image/webp"].includes(a.type)){alert(`${a.name} is not a valid image file (JPEG, PNG, GIF, or WebP)`);return}const G=2*1024*1024;if(a.size>G){alert(`${a.name} size should not exceed 2MB`);return}e.push(a);const x=new FileReader;x.onload=$=>{o.push($.target.result),o.length===e.length&&(d.value=[...d.value,...e],r.value=[...r.value,...o],m("upload",d.value))},x.readAsDataURL(a)})},C=s=>{d.value.splice(s,1),r.value.splice(s,1),l.value&&(l.value.value=""),m("upload",d.value)},D=()=>{d.value=[],r.value=[],l.value&&(l.value.value=""),m("upload",[])},P=s=>{s.preventDefault(),c.value=!0},F=()=>{c.value=!1};return(s,e)=>(v(),p("div",V,[t("div",{class:S(["relative border-2 border-dashed rounded-lg p-6 transition-colors",[c.value?"border-primary bg-primary/5":"border-gray-300"]]),onDragover:P,onDragleave:F,onDrop:k},[t("div",E,[t("input",{ref_key:"fileInput",ref:l,type:"file",accept:"image/*",multiple:"",class:"hidden",onChange:w},null,544),t("div",L,[t("div",M,[i(n(j),{class:"h-6 w-6 text-gray-500"})]),e[3]||(e[3]=t("div",{class:"text-sm text-gray-500"},[t("span",{class:"font-medium text-primary"},"Click to upload"),f(" or drag and drop ")],-1)),e[4]||(e[4]=t("p",{class:"text-xs text-gray-400"}," PNG, JPG, GIF or WebP (max. 2MB each) ",-1)),i(n(g),{type:"button",variant:"outline",class:"mt-2",onClick:e[0]||(e[0]=o=>l.value.click())},{default:y(()=>[i(n(z),{class:"h-4 w-4 mr-2"}),e[2]||(e[2]=f(" Select Images "))]),_:1})])])],34),r.value.length>0?(v(),p("div",q,[t("div",J,[t("h4",R," Selected Images ("+b(r.value.length)+") ",1),i(n(g),{type:"button",variant:"outline",size:"sm",onClick:D,class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:y(()=>e[5]||(e[5]=[f(" Clear All ")])),_:1})]),t("div",W,[(v(!0),p(U,null,T(r.value,(o,a)=>(v(),p("div",{key:a,class:"relative group aspect-square"},[t("img",{src:o,alt:`Preview ${a+1}`,class:"w-full h-full object-cover rounded-lg border"},null,8,O),t("div",X,[i(n(g),{type:"button",variant:"destructive",size:"icon",class:"h-8 w-8",onClick:I=>C(a)},{default:y(()=>[i(n(A),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),t("div",H,b(a+1),1)]))),128)),t("div",{class:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-primary hover:bg-primary/5 transition-colors",onClick:e[1]||(e[1]=o=>l.value.click())},[t("div",K,[i(n(N),{class:"h-6 w-6 text-gray-400 mx-auto mb-2"}),e[6]||(e[6]=t("span",{class:"text-xs text-gray-500"},"Add More",-1))])])])])):B("",!0)]))}};export{le as _};
