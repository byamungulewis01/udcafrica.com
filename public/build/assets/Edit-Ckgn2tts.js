import{C as z,c as n,o as i,a as s,u as e,m as S,w as d,f as _,b as a,d as c,t as m,h as F,n as y,F as V,g as k,e as P}from"./app-DpAJ9ewm.js";import{_ as E}from"./AuthenticatedLayout-DYGhRvhH.js";import{_ as I,a as b}from"./CardContent-LkmN8a28.js";import{_ as v}from"./index-Dgxq-k6a.js";import{_ as U}from"./Textarea-B9_L-hmy.js";import{_ as q,a as G,b as M}from"./CardTitle-CbAV0kxE.js";import{_ as B}from"./CardDescription-Ccf6lEIF.js";import{_ as N}from"./CardFooter-DWbKcm4k.js";import{_ as T,a as D,b as L,c as A,d as R,e as K}from"./QuillEditor-DWV-LDts.js";import{_ as u}from"./Label-Dtmqkz2B.js";import{_ as O,a as $}from"./ImageUpload-DMcB0uWM.js";import{_ as W,a as Y}from"./index-DnnCEXgV.js";import{_ as H}from"./GalleryUpload-BmZ595dD.js";import"./utils-BRMhMjhB.js";import"./useForwardExpose-DnyHLGTR.js";import"./ApplicationLogo-DD2gZOey.js";import"./chevron-down-CA07Ykmz.js";import"./createLucideIcon-Ckl3K5n5.js";import"./user-D5ZGZSf7.js";import"./mail-yKSXMPcN.js";import"./x-bYC5Vyae.js";import"./chevron-right-D4MWbZYO.js";import"./image-jYe_jcpT.js";import"./plus-DK6FxyHK.js";const J={key:0,class:"mx-6 mb-4"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X={class:"space-y-2"},Z={key:0,class:"text-sm text-red-600"},ee={class:"space-y-2"},te={key:0,class:"text-sm text-red-600"},se={key:1,class:"text-sm text-gray-500"},oe={class:"space-y-2"},le={key:0,class:"text-sm text-red-600"},re={class:"space-y-2"},de={key:0,class:"text-sm text-red-600"},ae={key:0,class:"space-y-2"},ie={class:"border rounded-lg p-4 bg-gray-50"},ne=["src","alt"],ce={class:"space-y-2"},me={key:0,class:"text-sm text-red-600"},ue={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},pe={class:"space-y-2"},_e={key:0,class:"text-sm text-red-600"},fe={class:"space-y-2"},ye={key:0,class:"text-sm text-red-600"},ge={class:"space-y-2"},xe={key:0,class:"text-sm text-red-600"},be={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ve={class:"space-y-2"},je={key:0,class:"text-sm text-red-600"},ke={class:"space-y-2"},ve={key:0,class:"text-sm text-red-600"},Ue={class:"space-y-2"},$e={key:0,class:"text-sm text-red-600"},we={key:1,class:"space-y-2"},he={class:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 border rounded-lg bg-gray-50"},Ce=["src","alt"],ze={class:"space-y-2"},Se={key:0,class:"text-sm text-red-600"},Fe={key:1,class:"text-sm text-gray-500"},Pe={class:"flex items-center space-x-6"},Ee={class:"flex items-center space-x-2"},Ie={class:"flex items-center space-x-2"},qe={class:"space-y-2"},Ge={key:0,class:"text-sm text-red-600"},Me={key:1,class:"text-sm text-red-600"},Be={class:"space-y-4"},Ne={class:"space-y-2"},Te={key:0,class:"text-sm text-red-600"},De={class:"space-y-2"},Le={key:0,class:"text-sm text-red-600"},Ae={class:"space-y-2"},Re={key:0,class:"text-sm text-red-600"},Ke={key:1,class:"text-sm text-gray-500"},Oe={key:0},We={key:1},xt={__name:"Edit",props:{project:Object,categories:Array},setup(g){const p=g,o=z({title:p.project.title||"",slug:p.project.slug||"",description:p.project.description||"",content:p.project.content||"",featured_image:null,client:p.project.client||"",year_of_completion:p.project.year_of_completion||"",location:p.project.location||"",architect:p.project.architect||"",size:p.project.size||"",gallery:[],is_featured:p.project.is_featured||!1,is_published:p.project.is_published||!1,order:p.project.order||"",category_id:p.project.category_id||"",meta_title:p.project.meta_title||"",meta_description:p.project.meta_description||"",meta_keywords:p.project.meta_keywords||"",_method:"PUT"}),w=()=>{o.post(route("projects.update",p.project.id),{preserveScroll:!0,onSuccess:()=>{},onError:()=>{console.log(o.errors)}})},h=x=>{o.featured_image=x},C=x=>{o.gallery=x},r=x=>o.errors[x],f=x=>!!o.errors[x];return(x,t)=>(i(),n(V,null,[s(e(S),{title:"Edit Project"}),s(E,null,{default:d(()=>[s(e(q),null,{default:d(()=>[s(e(G),null,{default:d(()=>[s(e(M),{class:"text-2xl"},{default:d(()=>t[16]||(t[16]=[c("Edit Project")])),_:1}),s(e(B),null,{default:d(()=>t[17]||(t[17]=[c("Update the project details")])),_:1})]),_:1}),e(o).errors.error?(i(),n("div",J,[s(e(W),{variant:"destructive"},{default:d(()=>[s(e(Y),null,{default:d(()=>[c(m(e(o).errors.error),1)]),_:1})]),_:1})])):_("",!0),a("form",{onSubmit:F(w,["prevent"])},[s(e(I),{class:"space-y-6"},{default:d(()=>[a("div",Q,[a("div",X,[s(e(u),{for:"title"},{default:d(()=>t[18]||(t[18]=[c("Title")])),_:1}),s(e(b),{id:"title",modelValue:e(o).title,"onUpdate:modelValue":t[0]||(t[0]=l=>e(o).title=l),required:"",class:y({"border-red-500 focus:border-red-500":f("title")})},null,8,["modelValue","class"]),r("title")?(i(),n("p",Z,m(r("title")),1)):_("",!0)]),a("div",ee,[s(e(u),{for:"slug"},{default:d(()=>t[19]||(t[19]=[c("Slug")])),_:1}),s(e(b),{id:"slug",modelValue:e(o).slug,"onUpdate:modelValue":t[1]||(t[1]=l=>e(o).slug=l),class:y({"border-red-500 focus:border-red-500":f("slug")})},null,8,["modelValue","class"]),r("slug")?(i(),n("p",te,m(r("slug")),1)):(i(),n("p",se,"Leave empty to generate from title"))])]),a("div",oe,[s(e(u),{for:"description"},{default:d(()=>t[20]||(t[20]=[c("Description")])),_:1}),s(e(U),{id:"description",modelValue:e(o).description,"onUpdate:modelValue":t[2]||(t[2]=l=>e(o).description=l),rows:"3",required:"",class:y({"border-red-500 focus:border-red-500":f("description")})},null,8,["modelValue","class"]),r("description")?(i(),n("p",le,m(r("description")),1)):_("",!0)]),a("div",re,[s(e(u),{for:"content"},{default:d(()=>t[21]||(t[21]=[c("Content")])),_:1}),s(T,{modelValue:e(o).content,"onUpdate:modelValue":t[3]||(t[3]=l=>e(o).content=l),placeholder:"Write your project content here...",class:y({"border-red-500":f("content")})},null,8,["modelValue","class"]),r("content")?(i(),n("p",de,m(r("content")),1)):_("",!0)]),g.project.featured_image?(i(),n("div",ae,[s(e(u),null,{default:d(()=>t[22]||(t[22]=[c("Current Featured Image")])),_:1}),a("div",ie,[a("img",{src:g.project.featured_image,alt:g.project.title,class:"max-w-xs max-h-48 object-cover rounded-lg"},null,8,ne),t[23]||(t[23]=a("p",{class:"text-sm text-gray-600 mt-2"},"Upload a new image below to replace this one",-1))])])):_("",!0),a("div",ce,[s(e(u),null,{default:d(()=>[c(m(g.project.featured_image?"Replace Featured Image":"Featured Image"),1)]),_:1}),s(O,{onUpload:h}),r("featured_image")?(i(),n("p",me,m(r("featured_image")),1)):_("",!0)]),a("div",ue,[a("div",pe,[s(e(u),{for:"category_id"},{default:d(()=>t[24]||(t[24]=[c("Category")])),_:1}),s(e(D),{modelValue:e(o).category_id,"onUpdate:modelValue":t[4]||(t[4]=l=>e(o).category_id=l),required:""},{default:d(()=>[s(e(L),{class:y({"border-red-500 focus:border-red-500":f("category_id")})},{default:d(()=>[s(e(A),{placeholder:"Select a category"})]),_:1},8,["class"]),s(e(R),null,{default:d(()=>[(i(!0),n(V,null,k(g.categories,l=>(i(),P(e(K),{key:l.id,value:l.id},{default:d(()=>[c(m(l.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),r("category_id")?(i(),n("p",_e,m(r("category_id")),1)):_("",!0)]),a("div",fe,[s(e(u),{for:"client"},{default:d(()=>t[25]||(t[25]=[c("Client")])),_:1}),s(e(b),{id:"client",modelValue:e(o).client,"onUpdate:modelValue":t[5]||(t[5]=l=>e(o).client=l),required:"",class:y({"border-red-500 focus:border-red-500":f("client")})},null,8,["modelValue","class"]),r("client")?(i(),n("p",ye,m(r("client")),1)):_("",!0)]),a("div",ge,[s(e(u),{for:"year_of_completion"},{default:d(()=>t[26]||(t[26]=[c("Year of Completion")])),_:1}),s(e(b),{id:"year_of_completion",modelValue:e(o).year_of_completion,"onUpdate:modelValue":t[6]||(t[6]=l=>e(o).year_of_completion=l),required:"",placeholder:"e.g., 2022",class:y({"border-red-500 focus:border-red-500":f("year_of_completion")})},null,8,["modelValue","class"]),r("year_of_completion")?(i(),n("p",xe,m(r("year_of_completion")),1)):_("",!0)])]),a("div",be,[a("div",Ve,[s(e(u),{for:"location"},{default:d(()=>t[27]||(t[27]=[c("Location")])),_:1}),s(e(b),{id:"location",modelValue:e(o).location,"onUpdate:modelValue":t[7]||(t[7]=l=>e(o).location=l),class:y({"border-red-500 focus:border-red-500":f("location")})},null,8,["modelValue","class"]),r("location")?(i(),n("p",je,m(r("location")),1)):_("",!0)]),a("div",ke,[s(e(u),{for:"size"},{default:d(()=>t[28]||(t[28]=[c("Size")])),_:1}),s(e(b),{id:"size",modelValue:e(o).size,"onUpdate:modelValue":t[8]||(t[8]=l=>e(o).size=l),class:y({"border-red-500 focus:border-red-500":f("size")})},null,8,["modelValue","class"]),r("size")?(i(),n("p",ve,m(r("size")),1)):_("",!0)]),a("div",Ue,[s(e(u),{for:"architect"},{default:d(()=>t[29]||(t[29]=[c("Architect")])),_:1}),s(e(b),{id:"architect",modelValue:e(o).architect,"onUpdate:modelValue":t[9]||(t[9]=l=>e(o).architect=l),class:y({"border-red-500 focus:border-red-500":f("architect")})},null,8,["modelValue","class"]),r("architect")?(i(),n("p",$e,m(r("architect")),1)):_("",!0)])]),g.project.gallery&&g.project.gallery.length>0?(i(),n("div",we,[s(e(u),null,{default:d(()=>t[30]||(t[30]=[c("Current Gallery Images")])),_:1}),a("div",he,[(i(!0),n(V,null,k(g.project.gallery,(l,j)=>(i(),n("div",{key:j,class:"relative"},[a("img",{src:l,alt:`Gallery image ${j+1}`,class:"w-full h-24 object-cover rounded-lg"},null,8,Ce)]))),128))]),t[31]||(t[31]=a("p",{class:"text-sm text-gray-600"},"Upload new images below to replace the current gallery",-1))])):_("",!0),a("div",ze,[s(e(u),null,{default:d(()=>[c(m(g.project.gallery&&g.project.gallery.length>0?"Replace Project Gallery":"Project Gallery"),1)]),_:1}),s(H,{onUpload:C}),r("gallery")?(i(),n("p",Se,m(r("gallery")),1)):(i(),n("p",Fe,"Upload multiple images for the project gallery"))]),a("div",Pe,[a("div",Ee,[s(e($),{id:"is_featured",modelValue:e(o).is_featured,"onUpdate:modelValue":t[10]||(t[10]=l=>e(o).is_featured=l)},null,8,["modelValue"]),s(e(u),{for:"is_featured"},{default:d(()=>t[32]||(t[32]=[c("Featured Project")])),_:1})]),a("div",Ie,[s(e($),{id:"is_published",modelValue:e(o).is_published,"onUpdate:modelValue":t[11]||(t[11]=l=>e(o).is_published=l)},null,8,["modelValue"]),s(e(u),{for:"is_published"},{default:d(()=>t[33]||(t[33]=[c("Published")])),_:1})])]),a("div",qe,[r("is_featured")?(i(),n("p",Ge,m(r("is_featured")),1)):_("",!0),r("is_published")?(i(),n("p",Me,m(r("is_published")),1)):_("",!0)]),a("div",Be,[t[37]||(t[37]=a("h3",{class:"text-lg font-medium"},"Meta Information",-1)),a("div",Ne,[s(e(u),{for:"meta_title"},{default:d(()=>t[34]||(t[34]=[c("Meta Title")])),_:1}),s(e(b),{id:"meta_title",modelValue:e(o).meta_title,"onUpdate:modelValue":t[12]||(t[12]=l=>e(o).meta_title=l),class:y({"border-red-500 focus:border-red-500":f("meta_title")})},null,8,["modelValue","class"]),r("meta_title")?(i(),n("p",Te,m(r("meta_title")),1)):_("",!0)]),a("div",De,[s(e(u),{for:"meta_description"},{default:d(()=>t[35]||(t[35]=[c("Meta Description")])),_:1}),s(e(U),{id:"meta_description",modelValue:e(o).meta_description,"onUpdate:modelValue":t[13]||(t[13]=l=>e(o).meta_description=l),rows:"2",class:y({"border-red-500 focus:border-red-500":f("meta_description")})},null,8,["modelValue","class"]),r("meta_description")?(i(),n("p",Le,m(r("meta_description")),1)):_("",!0)]),a("div",Ae,[s(e(u),{for:"meta_keywords"},{default:d(()=>t[36]||(t[36]=[c("Meta Keywords")])),_:1}),s(e(b),{id:"meta_keywords",modelValue:e(o).meta_keywords,"onUpdate:modelValue":t[14]||(t[14]=l=>e(o).meta_keywords=l),class:y({"border-red-500 focus:border-red-500":f("meta_keywords")})},null,8,["modelValue","class"]),r("meta_keywords")?(i(),n("p",Re,m(r("meta_keywords")),1)):(i(),n("p",Ke,"Separate keywords with commas"))])])]),_:1}),s(e(N),{class:"flex justify-end space-x-4"},{default:d(()=>[s(e(v),{type:"button",variant:"outline",onClick:t[15]||(t[15]=l=>x.$inertia.visit(x.route("projects.index")))},{default:d(()=>t[38]||(t[38]=[c(" Cancel ")])),_:1}),s(e(v),{type:"submit",disabled:e(o).processing},{default:d(()=>[e(o).processing?(i(),n("span",Oe,"Updating...")):(i(),n("span",We,"Update Project"))]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1})],64))}};export{xt as default};
