import{r as h,l as Q,C as D,c as m,o as d,a as t,u as e,m as G,w as l,b as n,d as i,e as N,f as v,F as E,g as J,t as u,n as K,h as R,i as T,v as X,j as Y,k as Z,W as U}from"./app-DIopXqKP.js";import{_ as ee}from"./AuthenticatedLayout-Bg6rZ6FY.js";import{_ as se,a as C}from"./CardContent-DJz9bwNW.js";import{_ as $}from"./Label-_23X435e.js";import{_ as b}from"./index-1cTPcDLn.js";import{_ as te,a as le,b as oe,c as ae,d as ie}from"./DialogTitle-DkcBCu9v.js";import{_ as re,a as ne,b as A,c as w,d as de,e as p,T as ue}from"./TableHeader-BoxMRrPo.js";import{_ as fe,a as ce,b as me}from"./CardTitle-CgrbpjEC.js";import{_ as ve}from"./CardDescription-BC_0I2Ru.js";import{_ as pe}from"./CardFooter-CbRrMDCE.js";import{_ as L}from"./index-B5-et6CH.js";import{U as _e}from"./user-plus-C2WU6YSi.js";import{S as ge}from"./search-Cb0GD7o4.js";import{A as be,a as we}from"./arrow-up-BfOOe-V7.js";import{I as xe}from"./image-tl7kgfGZ.js";import{S as ye}from"./square-pen-CtRkotkQ.js";import"./utils-BRMhMjhB.js";import"./useForwardExpose-DtZd-g3N.js";import"./ApplicationLogo-r-dTDcsW.js";import"./chevron-down-CVJEV9BC.js";import"./createLucideIcon-Bj9Qh6Ch.js";import"./user-hELxsGH2.js";import"./mail-DtIXIIvu.js";import"./x-Dt5pVk4c.js";import"./chevron-right-Df6hnXNd.js";const ke={class:"flex justify-between items-center"},$e={class:"relative mb-6"},Se={class:"rounded-md border"},he={class:"flex items-center gap-2"},Ce={class:"flex flex-col"},Ve={class:"w-12 h-12 rounded-md overflow-hidden"},Ie=["src","alt"],Ue={key:1,class:"w-full h-full bg-gray-100 flex items-center justify-center"},Ae=["innerHTML"],Me={class:"flex justify-end gap-2"},De={class:"text-sm text-gray-500"},Ne={class:"grid gap-4 py-4"},Ee={class:"grid gap-2"},Te={key:0,class:"text-sm text-red-500"},Le={class:"grid gap-2"},je={key:0,class:"text-sm text-red-500"},ze={class:"grid gap-2"},Fe={key:0,class:"text-sm text-red-500"},Be={class:"grid gap-2"},Pe={key:0,class:"text-sm text-red-500"},qe={key:0,class:"grid gap-2"},He={key:0,class:"text-sm text-red-500"},ps={__name:"Index",props:{services:Array},setup(j){const y=j,k=h(""),c=h([]),z=()=>{k.value?c.value=y.services.filter(r=>{var s;return r.name.toLowerCase().includes(k.value.toLowerCase())||((s=r.description)==null?void 0:s.toLowerCase().includes(k.value.toLowerCase()))}):c.value=y.services};Q(()=>{c.value=y.services});const _=h(!1),x=h(!1),o=D({id:null,name:"",description:"",image:null,icon:"",is_active:!0}),S=()=>{o.reset(),o.clearErrors()},F=()=>{S(),x.value=!1,_.value=!0},B=r=>{S(),x.value=!0,o.id=r.id,o.name=r.name,o.description=r.description,o.icon=r.icon,o.is_active=r.is_active,o._method="PUT",_.value=!0},P=r=>{o.image=r.target.files[0]},q=()=>{x.value?o.post(route("services.update",o.id),{preserveScroll:!0,onSuccess:()=>{_.value=!1,S(),U.visit(route("services.index"),{only:["services"]})}}):o.post(route("services.store"),{preserveScroll:!0,onSuccess:()=>{_.value=!1,S(),U.visit(route("services.index"),{only:["services"]})}})},H=r=>{confirm("Are you sure you want to delete this service?")&&D().delete(route("services.destroy",r),{preserveScroll:!0,onSuccess:()=>{U.visit(route("services.index"),{only:["services"]})}})},M=async(r,s)=>{if(s==="up"&&r===0||s==="down"&&r===c.value.length-1)return;const a=s==="up"?r-1:r+1,f=[...c.value],g=f[r],V=f[a],W=g.order;g.order=V.order,V.order=W,f[r]=V,f[a]=g,c.value=f;try{await Z.put(route("services.reorder"),{items:f.map((I,O)=>({id:I.id,order:O}))})}catch(I){console.error("Failed to update order:",I),c.value=y.services}};return(r,s)=>(d(),m(E,null,[t(e(G),{title:"Service Management"}),t(ee,null,{default:l(()=>[t(e(fe),null,{default:l(()=>[t(e(ce),{class:"pb-3"},{default:l(()=>[n("div",ke,[n("div",null,[t(e(me),{class:"text-2xl"},{default:l(()=>s[7]||(s[7]=[i("Service Management")])),_:1}),t(e(ve),null,{default:l(()=>s[8]||(s[8]=[i("Manage your services")])),_:1})]),t(e(b),{onClick:F,variant:"default",class:"flex items-center gap-2"},{default:l(()=>[t(e(_e),{class:"w-4 h-4"}),s[9]||(s[9]=i(" Add New "))]),_:1})])]),_:1}),t(e(se),null,{default:l(()=>[n("div",$e,[t(e(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t(e(C),{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=a=>k.value=a),onInput:z,placeholder:"Search by name or description...",class:"pl-10"},null,8,["modelValue"])]),n("div",Se,[t(e(re),null,{default:l(()=>[t(e(ne),null,{default:l(()=>[t(e(A),null,{default:l(()=>[t(e(w),{class:"w-4"},{default:l(()=>s[10]||(s[10]=[i("#")])),_:1}),t(e(w),null,{default:l(()=>s[11]||(s[11]=[i("Image")])),_:1}),t(e(w),null,{default:l(()=>s[12]||(s[12]=[i("Name")])),_:1}),t(e(w),null,{default:l(()=>s[13]||(s[13]=[i("Description")])),_:1}),t(e(w),null,{default:l(()=>s[14]||(s[14]=[i("Icon")])),_:1}),t(e(w),null,{default:l(()=>s[15]||(s[15]=[i("Status")])),_:1}),t(e(w),{class:"text-right"},{default:l(()=>s[16]||(s[16]=[i("Actions")])),_:1})]),_:1})]),_:1}),t(e(de),null,{default:l(()=>[(d(!0),m(E,null,J(c.value,(a,f)=>(d(),N(e(A),{key:a.id},{default:l(()=>[t(e(p),null,{default:l(()=>[n("div",he,[t(e(L),{variant:"outline"},{default:l(()=>[i(u(f+1),1)]),_:2},1024),n("div",Ce,[t(e(b),{variant:"ghost",size:"icon",class:"h-6 w-6",disabled:f===0,onClick:g=>M(f,"up")},{default:l(()=>[t(e(be),{class:"h-4 w-4"})]),_:2},1032,["disabled","onClick"]),t(e(b),{variant:"ghost",size:"icon",class:"h-6 w-6",disabled:f===c.value.length-1,onClick:g=>M(f,"down")},{default:l(()=>[t(e(we),{class:"h-4 w-4"})]),_:2},1032,["disabled","onClick"])])])]),_:2},1024),t(e(p),null,{default:l(()=>[n("div",Ve,[a.image?(d(),m("img",{key:0,src:a.image,alt:a.name,class:"w-full h-full object-cover"},null,8,Ie)):(d(),m("div",Ue,[t(e(xe),{class:"w-5 h-5 text-gray-400"})]))])]),_:2},1024),t(e(p),{class:"font-medium"},{default:l(()=>[i(u(a.name),1)]),_:2},1024),t(e(p),null,{default:l(()=>[i(u(a.description),1)]),_:2},1024),t(e(p),null,{default:l(()=>[a.icon?(d(),m("div",{key:0,innerHTML:a.icon,class:"w-5 h-5"},null,8,Ae)):v("",!0)]),_:2},1024),t(e(p),null,{default:l(()=>[t(e(L),{class:K(a.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},{default:l(()=>[i(u(a.is_active?"Active":"Inactive"),1)]),_:2},1032,["class"])]),_:2},1024),t(e(p),{class:"text-right"},{default:l(()=>[n("div",Me,[t(e(b),{variant:"outline",size:"icon",class:"h-8 w-8",onClick:g=>B(a)},{default:l(()=>[t(e(ye),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),t(e(b),{variant:"outline",size:"icon",class:"h-8 w-8 text-red-500",onClick:g=>H(a.id)},{default:l(()=>[t(e(ue),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),c.value.length===0?(d(),N(e(A),{key:0},{default:l(()=>[t(e(p),{colspan:"7",class:"text-center py-8 text-gray-500"},{default:l(()=>s[17]||(s[17]=[i(" No services found. Try a different search or add a new service. ")])),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})])]),_:1}),t(e(pe),null,{default:l(()=>[n("div",De," Showing "+u(c.value.length)+" out of "+u(y.services.length)+" services ",1)]),_:1})]),_:1}),t(e(te),{open:_.value,"onUpdate:open":s[6]||(s[6]=a=>_.value=a)},{default:l(()=>[t(e(le),{class:"max-w-xl"},{default:l(()=>[t(e(oe),null,{default:l(()=>[t(e(ae),null,{default:l(()=>[i(u(x.value?"Edit Service":"Add New Service"),1)]),_:1})]),_:1}),n("form",{onSubmit:R(q,["prevent"])},[n("div",Ne,[n("div",Ee,[t(e($),{for:"name"},{default:l(()=>s[18]||(s[18]=[i("Name")])),_:1}),t(e(C),{id:"name",modelValue:e(o).name,"onUpdate:modelValue":s[1]||(s[1]=a=>e(o).name=a),placeholder:"Enter name",required:""},null,8,["modelValue"]),e(o).errors.name?(d(),m("div",Te,u(e(o).errors.name),1)):v("",!0)]),n("div",Le,[t(e($),{for:"icon"},{default:l(()=>s[19]||(s[19]=[i("Icon")])),_:1}),t(e(C),{id:"icon",modelValue:e(o).icon,"onUpdate:modelValue":s[2]||(s[2]=a=>e(o).icon=a),placeholder:"Enter icon"},null,8,["modelValue"]),e(o).errors.icon?(d(),m("div",je,u(e(o).errors.icon),1)):v("",!0)]),n("div",ze,[t(e($),{for:"description"},{default:l(()=>s[20]||(s[20]=[i("Description")])),_:1}),T(n("textarea",{id:"description","onUpdate:modelValue":s[3]||(s[3]=a=>e(o).description=a),rows:"3",class:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter description"},null,512),[[X,e(o).description]]),e(o).errors.description?(d(),m("div",Fe,u(e(o).errors.description),1)):v("",!0)]),n("div",Be,[t(e($),{for:"image"},{default:l(()=>s[21]||(s[21]=[i("Image")])),_:1}),t(e(C),{type:"file",id:"image",onChange:P,accept:"image/*"}),e(o).errors.image?(d(),m("div",Pe,u(e(o).errors.image),1)):v("",!0)]),x.value?(d(),m("div",qe,[t(e($),{for:"is_active"},{default:l(()=>s[22]||(s[22]=[i("Status")])),_:1}),T(n("select",{id:"is_active","onUpdate:modelValue":s[4]||(s[4]=a=>e(o).is_active=a),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},s[23]||(s[23]=[n("option",{value:!0},"Active",-1),n("option",{value:!1},"Inactive",-1)]),512),[[Y,e(o).is_active]]),e(o).errors.is_active?(d(),m("div",He,u(e(o).errors.is_active),1)):v("",!0)])):v("",!0)]),t(e(ie),null,{default:l(()=>[t(e(b),{type:"button",variant:"outline",onClick:s[5]||(s[5]=a=>_.value=!1)},{default:l(()=>s[24]||(s[24]=[i("Cancel")])),_:1}),t(e(b),{type:"submit",disabled:e(o).processing},{default:l(()=>[i(u(x.value?"Update":"Save"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}};export{ps as default};
