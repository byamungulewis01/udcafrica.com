import{r as U,C as D,c as g,o as f,a as s,u as e,m as P,w as o,b as r,d as i,e as E,f as v,F as B,g as W,t as u,n as O,h as G,i as z,v as H,j as J,k as K,W as k}from"./app-uM_rHAvc.js";import{_ as Q}from"./AuthenticatedLayout-4Unk83T4.js";import{_ as R,a as F}from"./CardContent-sMhFDFcr.js";import{_ as $}from"./Label-DZPlvBPt.js";import{_ as p}from"./index-C6ySpNWJ.js";import{_ as X,a as Y,b as Z,c as ee,d as te}from"./DialogTitle-DgdJqyus.js";import{_ as se,a as oe,b as A,c as x,d as le,e as b,T as ae}from"./TableHeader-6AUNhNi4.js";import{_ as ie,a as re,b as ne}from"./CardTitle-DP8e2O8m.js";import{_ as de}from"./CardDescription-fxrZKyfU.js";import{_ as I}from"./index-BNTsheVP.js";import{U as ue}from"./user-plus-BGBMVf6S.js";import{A as fe,a as me}from"./arrow-up-DrbDUSyr.js";import{S as ce}from"./square-pen-CsOFyQZU.js";import"./utils-BRMhMjhB.js";import"./useForwardExpose-CYX1cZsp.js";import"./ApplicationLogo-5JciY6nB.js";import"./chevron-down--cLUaYuV.js";import"./createLucideIcon-BYSKgxqz.js";import"./mail-D0RyIu2f.js";import"./x-DI3WD2Gh.js";import"./chevron-right-CGYf89Y6.js";const ge={class:"flex justify-between items-center"},pe={class:"rounded-md border"},_e={class:"flex items-center gap-2"},ve={class:"flex items-center gap-2"},be={class:"flex justify-end gap-2"},xe={class:"grid gap-4 py-4"},we={class:"grid gap-2"},ye={key:0,class:"text-sm text-red-500"},ke={class:"grid gap-2"},$e={key:0,class:"text-sm text-red-500"},Ce={class:"grid gap-2"},Se={key:0,class:"text-sm text-red-500"},Ve={key:0,class:"grid gap-2"},Ae={key:0,class:"text-sm text-red-500"},Qe={__name:"Categories",props:{categories:Array},setup(w){const C=w,m=U(!1),_=U(!1),l=D({id:null,slug:"",name:"",description:"",is_active:!0}),y=()=>{l.reset(),l.clearErrors()},M=()=>{y(),_.value=!1,m.value=!0},T=n=>{y(),_.value=!0,l.id=n.id,l.name=n.name,l.slug=n.slug,l.description=n.description,l.is_active=n.is_active,m.value=!0},h=()=>{_.value?l.put(route("blog-categories.update",l.id),{preserveScroll:!0,onSuccess:()=>{m.value=!1,y(),k.visit(route("blog-categories.index"),{only:["categories"]})}}):l.post(route("blog-categories.store"),{preserveScroll:!0,onSuccess:()=>{m.value=!1,y(),k.visit(route("blog-categories.index"),{only:["categories"]})}})},j=n=>{confirm("Are you sure you want to delete this category?")&&D().delete(route("blog-categories.destroy",n),{preserveScroll:!0,onSuccess:()=>{k.visit(route("blog-categories.index"),{only:["categories"]})}})},N=async(n,t)=>{if(t==="up"&&n===0||t==="down"&&n===C.categories.length-1)return;const a=t==="up"?n-1:n+1,d=[...C.categories],c=d[n],S=d[a],q=c.order;c.order=S.order,S.order=q,d[n]=S,d[a]=c,C.categories=d;try{await K.post(route("blog-categories.reorder"),{items:d.map((V,L)=>({id:V.id,order:L}))}),k.visit(route("blog-categories.index"),{only:["categories"]})}catch(V){console.error("Failed to update order:",V)}};return(n,t)=>(f(),g(B,null,[s(e(P),{title:"Blog Categories"}),s(Q,null,{default:o(()=>[s(e(ie),null,{default:o(()=>[s(e(re),{class:"pb-3"},{default:o(()=>[r("div",ge,[r("div",null,[s(e(ne),{class:"text-2xl"},{default:o(()=>t[6]||(t[6]=[i("Blog Categories")])),_:1}),s(e(de),null,{default:o(()=>t[7]||(t[7]=[i("Manage your blog categories")])),_:1})]),s(e(p),{onClick:M,variant:"default",class:"flex items-center gap-2"},{default:o(()=>[s(e(ue),{class:"w-4 h-4"}),t[8]||(t[8]=i(" Add New "))]),_:1})])]),_:1}),s(e(R),null,{default:o(()=>[r("div",pe,[s(e(se),null,{default:o(()=>[s(e(oe),null,{default:o(()=>[s(e(A),null,{default:o(()=>[s(e(x),{class:"w-4"},{default:o(()=>t[9]||(t[9]=[i("#")])),_:1}),s(e(x),null,{default:o(()=>t[10]||(t[10]=[i("Name")])),_:1}),s(e(x),null,{default:o(()=>t[11]||(t[11]=[i("Slug")])),_:1}),s(e(x),null,{default:o(()=>t[12]||(t[12]=[i("Status")])),_:1}),s(e(x),{class:"text-right"},{default:o(()=>t[13]||(t[13]=[i("Actions")])),_:1})]),_:1})]),_:1}),s(e(le),null,{default:o(()=>[(f(!0),g(B,null,W(w.categories,(a,d)=>(f(),E(e(A),{key:a.id},{default:o(()=>[s(e(b),null,{default:o(()=>[r("div",_e,[s(e(I),{variant:"outline"},{default:o(()=>[i(u(d+1),1)]),_:2},1024),r("div",ve,[s(e(p),{variant:"ghost",size:"icon",class:"h-6 w-6",disabled:d===0,onClick:c=>N(d,"up")},{default:o(()=>[s(e(fe),{class:"h-4 w-4"})]),_:2},1032,["disabled","onClick"]),s(e(p),{variant:"ghost",size:"icon",class:"h-6 w-6",disabled:d===w.categories.length-1,onClick:c=>N(d,"down")},{default:o(()=>[s(e(me),{class:"h-4 w-4"})]),_:2},1032,["disabled","onClick"])])])]),_:2},1024),s(e(b),{class:"font-medium"},{default:o(()=>[i(u(a.name),1)]),_:2},1024),s(e(b),null,{default:o(()=>[i(u(a.slug),1)]),_:2},1024),s(e(b),null,{default:o(()=>[s(e(I),{class:O(a.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800")},{default:o(()=>[i(u(a.is_active?"Active":"Inactive"),1)]),_:2},1032,["class"])]),_:2},1024),s(e(b),{class:"text-right"},{default:o(()=>[r("div",be,[s(e(p),{variant:"outline",size:"icon",class:"h-8 w-8",onClick:c=>T(a)},{default:o(()=>[s(e(ce),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),s(e(p),{variant:"outline",size:"icon",class:"h-8 w-8 text-red-500",onClick:c=>j(a.id)},{default:o(()=>[s(e(ae),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),w.categories.length===0?(f(),E(e(A),{key:0},{default:o(()=>[s(e(b),{colspan:"5",class:"text-center py-8 text-gray-500"},{default:o(()=>t[14]||(t[14]=[i(" No categories found. Try a different search or add a new category. ")])),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})])]),_:1})]),_:1}),s(e(X),{open:m.value,"onUpdate:open":t[5]||(t[5]=a=>m.value=a)},{default:o(()=>[s(e(Y),{class:"max-w-lg"},{default:o(()=>[s(e(Z),null,{default:o(()=>[s(e(ee),null,{default:o(()=>[i(u(_.value?"Edit Category":"Add New Category"),1)]),_:1})]),_:1}),r("form",{onSubmit:G(h,["prevent"])},[r("div",xe,[r("div",we,[s(e($),{for:"name"},{default:o(()=>t[15]||(t[15]=[i("Name")])),_:1}),s(e(F),{id:"name",modelValue:e(l).name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(l).name=a),placeholder:"Enter name",required:""},null,8,["modelValue"]),e(l).errors.name?(f(),g("div",ye,u(e(l).errors.name),1)):v("",!0)]),r("div",ke,[s(e($),{for:"slug"},{default:o(()=>t[16]||(t[16]=[i("Slug")])),_:1}),s(e(F),{id:"slug",modelValue:e(l).slug,"onUpdate:modelValue":t[1]||(t[1]=a=>e(l).slug=a),placeholder:"Enter slug"},null,8,["modelValue"]),t[17]||(t[17]=r("p",{class:"text-sm text-gray-500"},"Leave empty to generate automatically",-1)),e(l).errors.slug?(f(),g("div",$e,u(e(l).errors.slug),1)):v("",!0)]),r("div",Ce,[s(e($),{for:"description"},{default:o(()=>t[18]||(t[18]=[i("Description")])),_:1}),z(r("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=a=>e(l).description=a),rows:"3",class:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter description"},null,512),[[H,e(l).description]]),e(l).errors.description?(f(),g("div",Se,u(e(l).errors.description),1)):v("",!0)]),_.value?(f(),g("div",Ve,[s(e($),{for:"is_active"},{default:o(()=>t[19]||(t[19]=[i("Status")])),_:1}),z(r("select",{id:"is_active","onUpdate:modelValue":t[3]||(t[3]=a=>e(l).is_active=a),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},t[20]||(t[20]=[r("option",{value:!0},"Active",-1),r("option",{value:!1},"Inactive",-1)]),512),[[J,e(l).is_active]]),e(l).errors.is_active?(f(),g("div",Ae,u(e(l).errors.is_active),1)):v("",!0)])):v("",!0)]),s(e(te),null,{default:o(()=>[s(e(p),{type:"button",variant:"outline",onClick:t[4]||(t[4]=a=>m.value=!1)},{default:o(()=>t[21]||(t[21]=[i("Cancel")])),_:1}),s(e(p),{type:"submit",disabled:e(l).processing},{default:o(()=>[i(u(_.value?"Update":"Save"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}};export{Qe as default};
