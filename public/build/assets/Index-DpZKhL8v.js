import{r as b,p as B,W as N,C as U,c as S,o as f,a,u as s,m as O,w as l,b as t,d as n,i as k,j as $,e as R,f as F,F as V,g as P,t as i,n as H}from"./app-Cqil91VG.js";import{_ as W}from"./AuthenticatedLayout-BY46rfGf.js";import{_ as Q,a as Y}from"./CardContent-C38U-JxF.js";import{_ as g}from"./Label-vvcqe4dp.js";import{_ as w}from"./index-ByeiqrB4.js";import{_ as G,a as J,b as K,c as X,d as Z}from"./DialogTitle-BRmklkjk.js";import{_ as ee,a as te,b as j,c as _,d as se,e as p,T as ae}from"./TableHeader-B7Eg4Tjt.js";import{_ as le,a as oe,b as ne}from"./CardTitle-DdvsLc0t.js";import{_ as ie}from"./CardDescription-VILBcO-k.js";import{c as D}from"./createLucideIcon-D9vdXTj9.js";import{S as ue}from"./search-BVCD2A1J.js";import{C as re}from"./calendar-CcClRecB.js";import{M as de}from"./mail-RWbnVo5P.js";import{P as ce}from"./phone-DFskSiUi.js";import"./utils-BRMhMjhB.js";import"./useForwardExpose-BoTcr0lo.js";import"./ApplicationLogo-F1zQLYZv.js";import"./chevron-down-GuiuOFqQ.js";import"./user-DdqHZhJJ.js";import"./x-Dm7YFapm.js";import"./chevron-right-DofClSoD.js";/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=D("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=D("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=D("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ve={class:"flex justify-between items-center"},ge={class:"space-y-4 mb-6"},_e={class:"flex gap-4"},xe={class:"relative flex-1"},ye={class:"flex items-center gap-2"},be={class:"flex items-center gap-2"},we={class:"rounded-md border"},he={class:"space-y-1"},Ce={class:"flex items-center gap-1"},Se={class:"text-sm"},ke={class:"flex items-center gap-1"},$e={class:"text-sm"},Ne={class:"max-w-xs truncate"},Re=["onUpdate:modelValue","onChange"],Ve={class:"text-xs text-gray-400"},je={class:"flex justify-end gap-2"},De={class:"flex items-center justify-between mt-4"},Te={class:"text-sm text-gray-500"},Ie={class:"flex gap-2"},Me={key:0,class:"space-y-4"},Le={class:"grid grid-cols-2 gap-4"},Ue={class:"mt-1"},Fe={class:"mt-1"},Pe={class:"mt-1"},Ee={class:"mt-1"},qe={class:"mt-1 p-4 bg-gray-50 rounded-md whitespace-pre-wrap"},ze={class:"mt-1"},rt={__name:"Index",props:{contactRequests:Object,filters:Object},setup(c){const h=c,C=b(h.filters.search||""),x=b(h.filters.status||"all"),y=b(h.filters.date_filter||"all");let T=null;const E=()=>{clearTimeout(T),T=setTimeout(()=>{N.get(route("contact-requests.index"),{search:C.value,status:x.value,date_filter:y.value},{preserveState:!0,preserveScroll:!0})},300)};B([x,y],()=>{N.get(route("contact-requests.index"),{search:C.value,status:x.value,date_filter:y.value},{preserveState:!0,preserveScroll:!0})});const I=U({status:""}),M=(r,e)=>{I.status=e,I.patch(route("contact-requests.status.update",r.id),{preserveScroll:!0,onSuccess:()=>{v.value&&(v.value=!1)}})},q=()=>{const e=[["First Name","Last Name","Email","Phone","Message","Status","Created At"].join(","),...h.contactRequests.data.map(m=>[m.firstName,m.lastName,m.email,m.phone,`"${m.message.replace(/"/g,'""')}"`,m.status,m.created_at].join(","))].join(`
`),o=new Blob([e],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");d.href=URL.createObjectURL(o),d.download=`contact-requests-${new Date().toISOString().split("T")[0]}.csv`,d.click()},v=b(!1),u=b(null),z=r=>{u.value=r,v.value=!0},A=r=>{confirm("Are you sure you want to delete this contact request?")&&U().delete(route("contact-requests.destroy",r),{preserveScroll:!0})},L=r=>r?new Date(r).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never";return(r,e)=>(f(),S(V,null,[a(s(O),{title:"Contact Requests"}),a(W,null,{default:l(()=>[a(s(le),null,{default:l(()=>[a(s(oe),{class:"pb-3"},{default:l(()=>[t("div",ve,[t("div",null,[a(s(ne),{class:"text-2xl"},{default:l(()=>e[7]||(e[7]=[n("Contact Requests")])),_:1}),a(s(ie),null,{default:l(()=>e[8]||(e[8]=[n("Manage and respond to contact form submissions")])),_:1})]),a(s(w),{onClick:q,variant:"outline",class:"flex items-center gap-2"},{default:l(()=>[a(s(me),{class:"w-4 h-4"}),e[9]||(e[9]=n(" Export CSV "))]),_:1})])]),_:1}),a(s(Q),null,{default:l(()=>[t("div",ge,[t("div",_e,[t("div",xe,[a(s(ue),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a(s(Y),{modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=o=>C.value=o),onInput:E,placeholder:"Search by name, email, or message...",class:"pl-10"},null,8,["modelValue"])]),t("div",ye,[a(s(pe),{class:"w-4 h-4 text-gray-500"}),k(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>x.value=o),class:"flex h-10 w-40 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},e[10]||(e[10]=[t("option",{value:"all"},"All Status",-1),t("option",{value:"new"},"New",-1),t("option",{value:"in_progress"},"In Progress",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"spam"},"Spam",-1)]),512),[[$,x.value]])]),t("div",be,[a(s(re),{class:"w-4 h-4 text-gray-500"}),k(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>y.value=o),class:"flex h-10 w-40 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},e[11]||(e[11]=[t("option",{value:"all"},"All Time",-1),t("option",{value:"today"},"Today",-1),t("option",{value:"yesterday"},"Yesterday",-1),t("option",{value:"last_week"},"Last 7 Days",-1)]),512),[[$,y.value]])])])]),t("div",we,[a(s(ee),null,{default:l(()=>[a(s(te),null,{default:l(()=>[a(s(j),null,{default:l(()=>[a(s(_),null,{default:l(()=>e[12]||(e[12]=[n("Name")])),_:1}),a(s(_),null,{default:l(()=>e[13]||(e[13]=[n("Contact Info")])),_:1}),a(s(_),null,{default:l(()=>e[14]||(e[14]=[n("Message")])),_:1}),a(s(_),null,{default:l(()=>e[15]||(e[15]=[n("Status")])),_:1}),a(s(_),null,{default:l(()=>e[16]||(e[16]=[n("Date")])),_:1}),a(s(_),{class:"text-right"},{default:l(()=>e[17]||(e[17]=[n("Actions")])),_:1})]),_:1})]),_:1}),a(s(se),null,{default:l(()=>[(f(!0),S(V,null,P(c.contactRequests.data,o=>(f(),R(s(j),{key:o.id},{default:l(()=>[a(s(p),{class:"font-medium"},{default:l(()=>[n(i(o.firstName)+" "+i(o.lastName),1)]),_:2},1024),a(s(p),null,{default:l(()=>[t("div",he,[t("div",Ce,[a(s(de),{class:"w-4 h-4 text-gray-500"}),t("span",Se,i(o.email),1)]),t("div",ke,[a(s(ce),{class:"w-4 h-4 text-gray-500"}),t("span",$e,i(o.phone),1)])])]),_:2},1024),a(s(p),null,{default:l(()=>[t("div",Ne,i(o.message),1)]),_:2},1024),a(s(p),null,{default:l(()=>[k(t("select",{"onUpdate:modelValue":d=>o.status=d,onChange:d=>M(o,d.target.value),class:"text-sm rounded-md border-0 bg-transparent focus:ring-0"},e[18]||(e[18]=[t("option",{value:"new"},"New",-1),t("option",{value:"in_progress"},"In Progress",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"spam"},"Spam",-1)]),40,Re),[[$,o.status]])]),_:2},1024),a(s(p),null,{default:l(()=>[t("div",Ve,i(L(o.created_at)),1)]),_:2},1024),a(s(p),{class:"text-right"},{default:l(()=>[t("div",je,[a(s(w),{variant:"outline",size:"icon",class:"h-8 w-8",onClick:d=>z(o)},{default:l(()=>[a(s(fe),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),a(s(w),{variant:"outline",size:"icon",class:"h-8 w-8 text-red-500",onClick:d=>A(o.id)},{default:l(()=>[a(s(ae),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),c.contactRequests.data.length===0?(f(),R(s(j),{key:0},{default:l(()=>[a(s(p),{colspan:"6",class:"text-center py-8 text-gray-500"},{default:l(()=>e[19]||(e[19]=[n(" No contact requests found. Try adjusting your filters. ")])),_:1})]),_:1})):F("",!0)]),_:1})]),_:1})]),t("div",De,[t("div",Te," Showing "+i(c.contactRequests.from)+" to "+i(c.contactRequests.to)+" of "+i(c.contactRequests.total)+" results ",1),t("div",Ie,[(f(!0),S(V,null,P(c.contactRequests.links,o=>(f(),R(s(w),{key:o.label,disabled:!o.url,class:H({"opacity-50 cursor-not-allowed":!o.url}),variant:"outline",size:"sm",onClick:d=>o.url&&s(N).visit(o.url),innerHTML:o.label==="« Previous"?"<ChevronLeft class='w-4 h-4' />":o.label==="Next »"?"<ChevronRight class='w-4 h-4' />":o.label},null,8,["disabled","class","onClick","innerHTML"]))),128))])])]),_:1})]),_:1}),a(s(G),{open:v.value,"onUpdate:open":e[6]||(e[6]=o=>v.value=o)},{default:l(()=>[a(s(J),{class:"max-w-2xl"},{default:l(()=>[a(s(K),null,{default:l(()=>[a(s(X),null,{default:l(()=>e[20]||(e[20]=[n("Contact Request Details")])),_:1})]),_:1}),u.value?(f(),S("div",Me,[t("div",Le,[t("div",null,[a(s(g),null,{default:l(()=>e[21]||(e[21]=[n("Name")])),_:1}),t("div",Ue,i(u.value.name),1)]),t("div",null,[a(s(g),null,{default:l(()=>e[22]||(e[22]=[n("Email")])),_:1}),t("div",Fe,i(u.value.email),1)]),t("div",null,[a(s(g),null,{default:l(()=>e[23]||(e[23]=[n("Phone")])),_:1}),t("div",Pe,i(u.value.phone),1)]),t("div",null,[a(s(g),null,{default:l(()=>e[24]||(e[24]=[n("Status")])),_:1}),t("div",Ee,[k(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>u.value.status=o),onChange:e[4]||(e[4]=o=>M(u.value,o.target.value)),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},e[25]||(e[25]=[t("option",{value:"new"},"New",-1),t("option",{value:"in_progress"},"In Progress",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"spam"},"Spam",-1)]),544),[[$,u.value.status]])])])]),t("div",null,[a(s(g),null,{default:l(()=>e[26]||(e[26]=[n("Message")])),_:1}),t("div",qe,i(u.value.message),1)]),t("div",null,[a(s(g),null,{default:l(()=>e[27]||(e[27]=[n("Submitted")])),_:1}),t("div",ze,i(L(u.value.created_at)),1)])])):F("",!0),a(s(Z),null,{default:l(()=>[a(s(w),{type:"button",variant:"outline",onClick:e[5]||(e[5]=o=>v.value=!1)},{default:l(()=>e[28]||(e[28]=[n("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}};export{rt as default};
